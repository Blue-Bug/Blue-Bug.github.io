{"componentChunkName":"component---src-templates-post-template-tsx","path":"/development-log-220126/","result":{"data":{"allMarkdownRemark":{"edges":[{"node":{"html":"<h3>1. 검색 쿼리를 날릴때 Playlist,Link가 갯수만큼 날라간다</h3>\n<h3>2. 벌크 insert 하기 위해서 application.properties에 별 옵션을 더 넣어도 안됨</h3>\n<h3>3. Spring 로그 설정 문제로 안되는거처럼 보이는지 실제 postgresql을 로그를 보고 확인해야한다.</h3>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">  -> 실제 DB 로그 확인 결과 벌크 insert 되는 것을 확인할 수 있음\r\n  -> 근데 Link와 Playlist는 BatchSize 만큼 합쳐져서 나가지 않고\r\n  어느정도 분리되어서 나간다 왜?\r\n        -> https://vladmihalcea.com/postgresql-multi-row-insert-rewritebatchedinserts-property/\r\n  왜냐하면 결국 DB에서 허용이 되야 하기 때문이다. 위 예에서도 보면 Batchsize\r\n  가 10개지만 실제 DB로는 2번의 쿼리로 10개의 insert가 나뉘었다.</code></pre></div>\n<h3>4. BatchSize를 300으로 잡으니깐 많은 insert 쿼리가 하나의 MultiRow insert 쿼리로 합쳐져서 나가는 것을 확인</h3>\n<center>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/212b7b937efe0a996b4fbeba24e473c5/b2379/220126devlog.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 21.875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAEABQDASIAAhEBAxEB/8QAFwABAAMAAAAAAAAAAAAAAAAAAAIDBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAdi0JA//xAAWEAADAAAAAAAAAAAAAAAAAAAAARD/2gAIAQEAAQUCFP/EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABQQAQAAAAAAAAAAAAAAAAAAABD/2gAIAQEABj8Cf//EABgQAAIDAAAAAAAAAAAAAAAAAAABEEFh/9oACAEBAAE/IbE2P//aAAwDAQACAAMAAAAQg8//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/ED//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAaEAACAgMAAAAAAAAAAAAAAAAAARExIUFx/9oACAEBAAE/EFXhitAlG2f/2Q=='); background-size: cover; display: block;\"></span>\n  <picture>\n          <source srcset=\"/static/212b7b937efe0a996b4fbeba24e473c5/a59e9/220126devlog.webp 192w,\n/static/212b7b937efe0a996b4fbeba24e473c5/0ca9f/220126devlog.webp 384w,\n/static/212b7b937efe0a996b4fbeba24e473c5/dc9b9/220126devlog.webp 768w,\n/static/212b7b937efe0a996b4fbeba24e473c5/e2c2f/220126devlog.webp 1152w,\n/static/212b7b937efe0a996b4fbeba24e473c5/f3efb/220126devlog.webp 1536w,\n/static/212b7b937efe0a996b4fbeba24e473c5/8006d/220126devlog.webp 1545w\" sizes=\"(max-width: 768px) 100vw, 768px\" type=\"image/webp\">\n          <source srcset=\"/static/212b7b937efe0a996b4fbeba24e473c5/150b2/220126devlog.jpg 192w,\n/static/212b7b937efe0a996b4fbeba24e473c5/6985d/220126devlog.jpg 384w,\n/static/212b7b937efe0a996b4fbeba24e473c5/19de6/220126devlog.jpg 768w,\n/static/212b7b937efe0a996b4fbeba24e473c5/4472f/220126devlog.jpg 1152w,\n/static/212b7b937efe0a996b4fbeba24e473c5/d58d1/220126devlog.jpg 1536w,\n/static/212b7b937efe0a996b4fbeba24e473c5/b2379/220126devlog.jpg 1545w\" sizes=\"(max-width: 768px) 100vw, 768px\" type=\"image/jpeg\">\n          <img class=\"gatsby-resp-image-image\" src=\"/static/212b7b937efe0a996b4fbeba24e473c5/19de6/220126devlog.jpg\" alt=\"220126devlog\" title=\"\" loading=\"lazy\" decoding=\"async\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\">\n        </picture>\n  </a>\n    </span>\n</center>","frontmatter":{"title":"22.01.26 MyPlaylist 프로젝트 개발일지","summary":"MultiRow Insert","date":"2022.01.26.","categories":["Devlog"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAAA7CAAAOwgEVKEqAAAABRElEQVR42q2U38qCQBDFff836KLnCLpNMOgmykoljUrLxD+YCJbW+TgDdtFXptGBYS/W/e2cmR0VPOl+v+N2u8naFO+k4Au1AtYfnc9nzGYzrNdrWJaFxWKB5XIpsVqtJC6Xy1vwA0iblGEYcigMQ5xOJ1RVJYCiKOSb/X6P3W7XHkjYfD6HpmmYTqfI81z26v0gCNoB603XdXE4HARMm6PRCIPBQEBJksjKLDsBaZW1TNMUjuPAtm3JdrPZII7jbhmydq8O1JZ5WSdgFEWPA7T43FHP8yRaA4/Ho9SQGo/HYne73Qqc2bG2bFTnGtIim6KqKnRdR7/fR6/Xw3A4lKfU+mHTLt9iWZaPul2vV0wmE7mMzWnSP2CWZTBNU6zSHieFKy9ipr7vN45f4yzTGrNjcFK4Ns3xS+Cnv8knKfixfg78A5QxKMfK1bgqAAAAAElFTkSuQmCC"},"images":{"fallback":{"src":"/static/b4039bee1eb2fc5567e78e176715cccd/6458d/devlog.png","srcSet":"/static/b4039bee1eb2fc5567e78e176715cccd/28f38/devlog.png 95w,\n/static/b4039bee1eb2fc5567e78e176715cccd/a9ddf/devlog.png 190w,\n/static/b4039bee1eb2fc5567e78e176715cccd/6458d/devlog.png 379w","sizes":"(min-width: 379px) 379px, 100vw"},"sources":[{"srcSet":"/static/b4039bee1eb2fc5567e78e176715cccd/16684/devlog.webp 95w,\n/static/b4039bee1eb2fc5567e78e176715cccd/d8ea5/devlog.webp 190w,\n/static/b4039bee1eb2fc5567e78e176715cccd/a002b/devlog.webp 379w","type":"image/webp","sizes":"(min-width: 379px) 379px, 100vw"}]},"width":379,"height":321}},"publicURL":"/static/b4039bee1eb2fc5567e78e176715cccd/devlog.png"}}}}]}},"pageContext":{"slug":"/development-log-220126/"}},"staticQueryHashes":[],"slicesMap":{}}